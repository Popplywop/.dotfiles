;==========================================================
;
;   Gruvbox Polybar Config - Transparent with Powerline Pills
;
;==========================================================

[colors]
background = #00000000
background-alt = #3c3836
foreground = #ebdbb2
foreground-alt = #fbf1c7
primary = #d65d0e
secondary = #458588
alert = #cc241d
green = #98971a
yellow = #d79921
blue = #458588
purple = #b16286
aqua = #689d6a
bg-dark = #282828

[bar/main]
monitor = ${env:MONITOR:}
width = 100%
height = 28pt
radius = 0

background = ${colors.background}
foreground = ${colors.foreground}

line-size = 0

border-left-size = 10
border-right-size = 10
border-top-size = 4
border-bottom-size = 0
border-color = #00000000

padding-left = 0
padding-right = 0

module-margin = 0

separator =

font-0 = JetBrainsMono Nerd Font:size=10;2
font-1 = JetBrainsMono Nerd Font:size=14;3
font-2 = JetBrainsMono Nerd Font:size=28;6

modules-left = round-left dwm-tags round-right
modules-center = round-left date round-right
modules-right = round-left cpu sep memory sep pulseaudio sep battery round-right

cursor-click = pointer
cursor-scroll = ns-resize

enable-ipc = true

wm-restack = generic
override-redirect = true

;==========================================================
; Powerline rounded edges
;==========================================================

[module/round-left]
type = custom/text
content = 
content-font = 3
content-foreground = ${colors.bg-dark}

[module/round-right]
type = custom/text
content = 
content-font = 3
content-foreground = ${colors.bg-dark}

[module/sep]
type = custom/text
content = " "
content-background = ${colors.bg-dark}

;==========================================================
; Modules
;==========================================================

[module/dwm-tags]
type = custom/script
exec = ~/.config/polybar/scripts/dwm-tags.sh
tail = true
format-background = ${colors.bg-dark}
format-padding = 1

[module/cpu]
type = internal/cpu
interval = 5
format = <label>
format-prefix = "  "
format-prefix-foreground = ${colors.primary}
format-background = ${colors.bg-dark}
format-padding = 1
label = %percentage:2%%

[module/memory]
type = internal/memory
interval = 5
format = <label>
format-prefix = " 󰍛 "
format-prefix-foreground = ${colors.primary}
format-background = ${colors.bg-dark}
format-padding = 1
label = %percentage_used:2%%

[module/pulseaudio]
type = internal/pulseaudio
format-volume = <label-volume>
format-volume-prefix = "󰕾 "
format-volume-prefix-foreground = ${colors.primary}
format-volume-background = ${colors.bg-dark}
format-volume-padding = 1
label-volume = %percentage%%

format-muted = <label-muted>
format-muted-prefix = "󰝟 "
format-muted-prefix-foreground = ${colors.alert}
format-muted-background = ${colors.bg-dark}
format-muted-padding = 1
label-muted = muted

[module/date]
type = internal/date
interval = 60

date = %a %b %d
time = %H:%M

format-background = ${colors.bg-dark}
format-padding = 1
label = %date%   %time%

[module/battery]
type = internal/battery
battery = BAT0
adapter = AC
full-at = 98

format-charging = <label-charging>
format-charging-prefix = " 󰂄 "
format-charging-prefix-foreground = ${colors.primary}
format-charging-background = ${colors.bg-dark}
format-charging-padding = 1
label-charging = %percentage%%

format-discharging = <label-discharging>
format-discharging-prefix = " 󰁻 "
format-discharging-prefix-foreground = ${colors.primary}
format-discharging-background = ${colors.bg-dark}
format-discharging-padding = 1
label-discharging = %percentage%%

format-full = <label-full>
format-full-prefix = " 󰁹 "
format-full-prefix-foreground = ${colors.primary}
format-full-background = ${colors.bg-dark}
format-full-padding = 1
label-full = %percentage%%

[settings]
screenchange-reload = true
pseudo-transparency = true
